# About This Site

### Purpose and Content

<img src="/images/robby.png" class="inset-right" />
Working on this site has served a dual purpose for me. It gives me a place to write up ideas I've had so I can easily present them to people and it gives me a project to work on where I can learn about web development.

The fact that this is a project for learning would explain why a couple of things are a bit more involved than they have to be. If performance and simplicity were priorities over learning, a few of these things would be left out.

Style is treated as a necessary evil in presenting content, not as a goal in itself, so the pages are very plain-looking. I may make the site flashier over time just to enhance my skillset.

The target audience for this site is mainly other developers. My experience has been focused on the back end for a long time, so there's a bias there, too.

### Hosting

#### GitHub Pages

<img src="/logos/github.svg" class="inset-right" />
GitHub makes it really easy to host a static content website like this one. Just create a repo named `your-user-name.github.io` and its contents will be hosted at `http://your-user-name.github.io`. [Project-specific sites][project-pages] are also available.

The limitation of a static server required me to be a little creative. Some of the things I wanted to do - like use [Markdown][md] as the authoring format and avoid checking in generated files - would push me to brush up on modern javascript.

#### Anywhere Else

<img src="/logos/nodejs.svg" class="inset-right" />
As it's such a simple site, it could easily be hosted anywhere. It's especially easy with Node. Make sure you have [Git][git] and [Node.js][node] installed. Then run the following:

  1. `git clone https://github.com/rkoeninger/rkoeninger.github.io.git`
  2. `cd rkoeninger.github.io`
  3. `npm install -g http-server`
  4. `http-server -p 8080`
  5. open [localhost:8080](//localhost:8080) in your browser

### Authoring

#### Markdown

<img src="/logos/markdown.svg" class="inset-right" />
I originally tried writing articles in straight-html, but after the first 1000 `</>`s, my pinky got tired. Having everything explicitly delimited is great in programming languages, but when I'm working in natural language, which already has it's own syntax, I'd like there to be a minimum of noise.

Markdown definitely has its limitations. It has no syntax for specifying class names. No syntax for `<cite>`s, `<abbr>`s or `<caption>`s. Document structuring elements like `<div>`s, `<asides>`s and `<nav>`s are not available. Media elements like `<audio>`s and `<video>`s are right out. It gets confusing for non-technical users beyond trivial usage. It's a simple language for a simple purpose.

Despite all this, the fact that the renderer passes HTML elements through untouched allows for simple workarounds. I might have preferred a syntax that could represent more element type, but this seems to be as good as it gets while keeping it this simple.

I use the [marked][marked] library for rendering Markdown to HTML.

#### Source Control

<img src="/logos/git.svg" class="inset-right" />
I have this principle for source control where one should not check-in files generated by or from other files in the repo without a really good reason.

From what I've read, the typical way to write a GitHub Pages site is to write your content in Markdown and use command-line tools to generate HTML files and then check in both changed files. This violates my first (and only, so far) rule of source control.

So in my site, all of the content is stored in [/articles/](/articles/) as markdown files.

### Page Structure and Article Rendering

#### HTML5 and Semantic Markup

<img src="/logos/html.svg" class="inset-right" />
The site has a single HTML file which frames the current article, links stylesheets and javascript files and show the basic navigation bar. It uses the modern convention of Semantic Markup, using `<main>`, `<article>` and `<nav>` tags instead of `<div>`s for everything.

#### AJAX / PJAX

<img src="/logos/javascript.svg" class="inset-right" />
So we can convert the Markdown to HTML, but you can't just link to a Markdown file and expect anything to happen. You have to load an HTML file.

When the page first loads, it pulls the value of the `articleId` property in the query string and uses an AJAX request to pull down the Markdown file with that name, render it and shove it into the page.

To reduce load time, Push-State is used in concert with AJAX to push a history item onto the browser's back button, replace the current URL and substitute new content into the page. This technique is often called "PJAX".

### Style

#### Responsive Design

<img src="/logos/css.svg" class="inset-right" /> 
I've made some attempt at making the site responsive. The hardest part has been just getting the font sizes right.

And the comment thread just doesn't load at all on mobile because Disqus isn't responsive anyway and it would very hard to use.

#### Google Fonts

Google hosts all of the fonts used on this site. Here's what is being used currently:

| Font | Usage |
|:-|:-|
| <span style="font-family: 'PT Sans'"> [PT Sans][ptsans] </span> | Body text |
| <span style="font-family: 'Arvo'"> [Arvo][arvo] </span> | Headings, Titles |
| <span style="font-family: 'Architects Daughter'"> [Architect's Daughter][architectsDaugther] </span> | Quotes |
| <span style="font-family: 'Rock Salt'"> [Rock Salt][rockSalt] </span> | Cites |

Architects Daughter was chosen for personal quotations because it resembles handwriting. Rock Salt was chosen for citations and by-lines for its resemblence to a signature (since signatures are basically messy handwriting).

For specification and textbook quotes and cites, I was thinking of using a formal, serif font. Maybe something that looks like the product of a typewriter.

Distinguishing the two types of quotes could be messy, because of the innability to specify css class names in Markdown.

### Libraries

#### JQuery



#### Font Awesome

Font Awesome is used for the icons in the navigation bar. It's fairly easy to use, if a little unconventional. The icons are implemented as characters in a highly customized font. They're specified using css classes, which I suppose is more readable and extensible than using far-out Unicode characters.

```html
<a href="..." class="fa fa-home"     id="home-link"></a>
<a href="..." class="fa fa-code"     id="source-link"></a>
<a href="..." class="fa fa-calendar" id="history-link"></a>
```

#### Highlight.js

[Highlight.js][hljs] is one of the most popular syntax highlighing libraries for the browser. It supports almost every syntax I would want to present on this site. The only one missing is the Razor syntax, which is used by ASP.Net for coding views. Highlight chooses the Ruby syntax as the default for Razor syntax, which actually doesn't look too bad.

#### MathJax

<img src="/logos/mathJax.svg" class="inset-right" />
MathJax makes for beautifully typeset mathematical formulas and expressions. My article on [the golden ratio][golden] makes extensive use of this library.

There was an issue for a while with using the built-in render-on-load ability where the MathJax would render before the article on occassion. This was a classic race condition. The MathJax render is now not triggered until the article content is loaded and rendered.

### Assets

#### Scalable Vector Graphics

<img src="/logos/svg.svg" class="inset-right" />
Some of the SVG images I have vectorized from raster images and some I have drawn myself. My originals are distinguished by their crappiness. I am not an illustrator or graphic designer before, but it's nice to play with it from time to time.

The SVG images on this site look great at any resolution or viewport size. Considering how sites are becoming more responsive (desktop/laptop, tablet, phone... watch?), it makes sense to have an image format that is inherently flexible in the same way.

SVG logos on this site can all be found in [/logos/](/logos/).

This site's repo is becoming a decent-sized collection of SVGs - I may later upload them to wikimedia or elsewhere and have them host them for me.

#### Site Logo

<img src="/logos/fearOfABlueScreen.svg" class="inset-right" />
With the home page's logo, I hit a couple of road blocks.

SVG can't rotate text like CSS.

When you transform CSS text, it can severely warp the bounding box. This caused the page to stretch out in both directions and really screwed up the presentation on mobile.

#### Require.js

<img src="/logos/requirejs.svg" class="inset-right" />
Javascript modules are loaded using AMD via Require.js. Different configurations are used for testing and the live site. Shims were needed for MathJax and Highlight.js.

#### cdnjs

All javascript libraries are loaded from [cdnjs][cdnjs]. None are hosted out of this site's repo.

### Testing

#### Jasmine

<img src="/logos/jasmine.svg" class="inset-right" />
The spec page can be viewed any time at [http://rkoeninger.github.io/spec.html][specpage]

#### PhantomJS

The Jasmine spec page is great for manually running the tests, but for automated testing, like in this site's [Travis CI][travis] build, there needs to be a way to run the tests without human intervention.

### Metadata

#### GitHub API

When an article is loaded, the page hits the GitHub API to get the last modified date and the user who last modified it.

#### Disqus

Another consequence of having only a static server is not being able to host any kind of comment or discussion thread.

A Disqus comment thread is loaded for articles not in the exclude list (the home page, for example).

[project-pages]: //help.github.com/articles/creating-project-pages-manually/ "Project Pages"
[md]: //guides.github.com/features/mastering-markdown/ "GitHub Flavored Markdown"
[marked]: //github.com/chjj/marked "marked"
[git]: //git-scm.com "Git"
[node]: //nodejs.org "Node.js"
[hljs]: //highlightjs.org "Highlight.js"
[cdnjs]: //cdnjs.com "cdnjs"
[specpage]: //rkoeninger.github.io/spec.html "Jasmine Spec Runner"
[travis]: //travis-ci.org/rkoeninger/rkoeninger.github.io "Travis CI Build for this site"
[ptsans]: //www.google.com/fonts/specimen/PT+Sans "Google Fonts: PT Sans"
[arvo]: //www.google.com/fonts/specimen/Arvo "Google Fonts: Arvo"
[architectsDaugther]: //www.google.com/fonts/specimen/Architects+Daughter "Google Fonts: Architect's Daughter"
[rockSalt]: //www.google.com/fonts/specimen/Rock+Salt "Google Fonts: Rock Salt"
[golden]: /index.html?articleId=golden "The Golden Ratio"
